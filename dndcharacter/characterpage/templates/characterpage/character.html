{% load static %}

<!DOCTYPE html>
<html lang="en" dir="ltr">
  <head>
    <meta charset="utf-8">
    <link rel="stylesheet" type="text/css" href="{% static 'characterpage/style.css' %}">
    <link rel="stylesheet" type="text/css" href="{% static 'characterpage/top.css' %}">
    <title>Character Example</title>
  </head>
  <body>
    <div class="top">
      <div class="user">
        To be continued...
      </div>
      <div class="logo">
        <h1><a href="/">Dungeons and Dragons</a></h1>
      </div>
      <div class="edits">
        <button onclick="location.href='/edit/{{character.id}}'" type="button" name="edit">Edit Character</button>
        <button onclick="location.href='/edit/'" type="button" name="delete">Delete Character</button>
      </div>
    </div>
    <div id="header">
      <div class="header-box">
        <h1>{{ character.name }}</h1>
      </div>
      <div id="basics">
        <table>
          <thead>
            <tr>
              <th>Class</th>
              <th>Race</th>
              <th>Player</th>
              <th>Background</th>
              <th>Alignment</th>
              <th>Experience</th>
            </tr>
          </thead>
          <tbody>
            <tr>
              <td>{{ character.char_class }} (Lv. {{ character.level }})</td>
              <td>{{ character.race }}</td>
              <td>{{ character.creator }}</td>
              <td>{{ character.bg }}</td>
              <td>{{ character.alignment }}</td>
              <td>{{ character.exp }}</td>
            </tr>
          </tbody>
        </table>
      </div>
    </div>
    <div id="stats">
      {% for s in character.getStats %}
        <div class="stat">
          <h1>{{ s.name }}</h1>
          <p class="main">{{ s.stat }}</p>
          <p class="plus">{% if s.bonus >= 0 %}+{% endif %}{{ s.bonus }}</p>
        </div>
      {% endfor %}
    </div>
    <div id="charstate">
      <span class="three">
        <div id="inspiration" class="box">
          <div class={% if character.inspiration %}"fill-in fill"{% else %}"fill-in"{% endif %}></div>
          <p>Inspiration</p>
        </div>
        <div class="box">
          <p class="main">{% if character.proficiency_bonus >= 0 %}+{% endif %}{{ character.proficiency_bonus }}</p>
          <p class="in-box-p">Proficiency Bonus</p>
        </div>
        <div class="box">
          <p class="main">{{ character.pass_wsd }}</p>
          <p class="in-box-p">Passive Wisdom (Perception)</p>
        </div>
      </span>
      <span class="three">
        <div class="box">
          <p class="main">{{ character.ac }}</p>
          <p class="in-box-p">Armor Class</p>
        </div>
        <div class="box">
          <p class="main">{{ character.initiative }}</p>
          <p class="in-box-p">Initiative</p>
        </div>
        <div class="box">
          <p class="main">{{ character.movement }}</p>
          <p class="in-box-p">Speed</p>
        </div>
      </span>
      <span class="four">
        <div class="box">
          <p class="main">{{ character.curr_hp }} / {{ character.max_hp }}</p>
          <p class="in-box-p">Hit Points</p>
        </div>
        <div class="box">
          <p class="main">{{ character.temp_hp }}</p>
          <p class="in-box-p">Temporary Hit Points</p>
        </div>
        <div class="box">
          <p class="main">{{ character.ds_success }} / 3</p>
          <p class="in-box-p">Death Save: Success</p>
        </div>
        <div class="box">
          <p class="main">{{ character.ds_failure }} / 3</p>
          <p class="in-box-p">Death Save: Failure</p>
        </div>
      </span>
    </div>
    <div id="savingthrows">
      <div class="st">
        <h1>Saving Throws</h1>
      </div>
      <div class="super_st">
        <h1>Skills</h1>
      </div>
      {% for s in character.getStSkills %}
        <div class="st">
          <div class={% if s.prf %}"circle fill"{% else %}"circle"{% endif %}></div>
          <p>{{ s.name }}</p><br/>
          <p class="plus">{% if s.bonus >= 0 %}+{% endif %}{{ s.bonus }}</p>
        </div>
      {% endfor %}
    </div>
    <div id="attacks">
      <div class="super-box">
        <h1>Attacks and Spellcasting</h1>
      </div>
      {% if atk %}
      <div class="super-box">
        <table>
          <thead>
            <tr>
              <th class="thirty">Name</th>
              <th class="twenty">Hit/DC</th>
              <th class="twenty">Range</th>
              <th class="thirty">Damage/Type</th>
            </tr>
          </thead>
          <tbody>
            {% for a in atk %}
              <tr>
                <td>{{ a.name }}</td>
                <td>{{ a.hit_dc }}</td>
                <td>{{ a.r }} ft</td>
                <td>{{ a.damage }}</td>
              </tr>
            {% endfor %}
          </tbody>
        </table>
      </div>
      {% endif %}
    </div>
    <div id="equipment">
      <div class="super-box">
        <h1>Equipment</h1>
      </div>
      <div id="money">
        {% for m in character.getMoney %}
          <div class="cash">
            <p>{{ m.name }}</p>
            <p class="plus">{{ m.value }}</p>
          </div>
        {% endfor %}
      </div>
      {% if eqp %}
      <div class="super-box">
        <table>
          <thead>
            <tr>
              <th class="three-three">Name</th>
              <th class="three-three">Quantity</th>
              <th class="three-three">Weight</th>
            </tr>
          </thead>
          <tbody>
            {% for e in eqp %}
              <tr>
                <td>{{ e.name }}</td>
                <td>{{ e.quantity }}</td>
                <td>{{ e.weight }}</td>
              </tr>
            {% endfor %}
          </tbody>
        </table>
      </div>
      {% endif %}
    </div>
    <div id="spells">
      <div class="super-box">
        <h1>Spellcasting</h1>
      </div>
      <div id="overall" class="three">
        <div class="box">
          <p class="main">{{ character.spell_abl }}</p>
          <p class="in-box-p">Spellcasting Ability</p>
        </div>
        <div class="box">
          <p class="main">{{ character.spl_save }}</p>
          <p class="in-box-p">Spell Save DC</p>
        </div>
        <div class="box">
          <p class="main">{% if character.spl_atk >= 0 %}+{% endif %}{{ character.spl_atk }}</p>
          <p class="in-box-p">Spell Attack Bonus</p>
        </div>
      </div>
      <div id="slots" class="three">
        {% for s in character.getSpellSlots %}
          <div class="box">
            <p class="in-box-p">Lv {{ s.lv }}</p>
            <p class="main">{{ s.used }} / {{ s.total }}</p>
            <p class="in-box-p">Slots Used/Total</p>
          </div>
        {% endfor %}
      </div>
      {% if spls %}
      <div id="spell-list" class="super-box">
        <table>
          <thead>
            <tr>
              <th class="twenty">Prepared</th>
              <th class="forty">Name</th>
              <th class="forty">Level</th>
            </tr>
          </thead>
          <tbody>
            {% for s in spls %}
              <tr>
                <td><div class={% if s.prepared %}"circle fill"{% else %}"circle"{% endif %}></div></td>
                <td>{{ s.name }}</td>
                <td>{{ s.level }}</td>
              </tr>
            {% endfor %}
          </tbody>
        </table>
      </div>
      {% endif %}
    </div>
    <div id="texts">
      <div class="txt">
        <h1>Proficiencies and Languages</h1>
        <p>{{ character.profs_lang|linebreaks }}</p>
      </div>
      <div class="txt">
        <h1>Features and Traits</h1>
        <p>{{ character.feats_traits|linebreaks }}</p>
      </div>
      <div class="txt">
        <h1>Personality</h1>
        <p>{{ character.personality|linebreaks }}</p>
      </div>
      <div class="txt">
        <h1>Backstory</h1>
        <p>{{ character.backstory|linebreaks }}</p>
      </div>
      <div class="txt">
        <h1>Appearance</h1>
        <p>{{ character.appearance|linebreaks }}</p>
      </div>
    </div>
  </body>
</html>
